<!DOCTYPE html>
<html>
  <link rel='stylesheet', href='./statics/bootstrap-3.3.6-dist/css/bootstrap.min.css'>
  <link href="./statics/build/toastr.css" >
  <script src='./statics/jquery-2.2.1.min.js'></script>
  <script src='./statics/bootstrap-3.3.6-dist/js/bootstrap.min.js'></script>
  <script src='./statics/validator.js' ></script>
  <script src='./statics/socket.io.js' ></script>
  <script src='./build/toastr.min.js'></script>
  <script>
    var mask=0;
    function doThis(){
           mask=0;
           var se   =document.getElementById("op");
           var sec_mask =document.getElementById("hid");
           for(var i=0;i!=se.selectedOptions.length;i++){
             switch(se.selectedOptions.item(i).value){
               case "prof":
                    mask=mask|1;
                    break;
               case "cf"  :
                    mask=mask|2;
                    break;
               case "cd"  :
                    mask=mask|4;
                    break;
               case "admin"  :
                    mask=mask|8;
                    break;
             }
           }
           sec_mask.setAttribute("value",mask);
           //console.log(""+sec_mask.value);
    }
  </script>
  <body>
    <nav class="navbar navbar-inverse">
      <div class="navbar-header">
        <button type="button" data-toggle="collapse" data-target="#list" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="#" class="navbar-brand">SauvNotes</a>
      </div>
      <div id="list" class="collapse navbar-collapse">
        <ul class="nav navbar-nav"></ul>
      </div>
    </nav>
    <div class="container">
      <div class="col-md-8 col-xs-8 col-lg-6 offset-3">
        <fieldset>
          <legend><strong>Saissisez les infos ci dessous</strong></legend>
          <form action="/create" method="post" data-toggle="validator">
            <div class="row">
              <div class="form-group">
                <label for="name">Nom:</label>
                <input type="text" name="name" placeholder="your name" data-error="vous devez saisire votre nom pour pouvoir vous authentifier !" required class="form-control">
                <div class="help-block with-errors"></div>
              </div>
              <div class="form-group">
                <label for="passwd">Password:</label>
                <input type="password" name="passwd" id="passwd" pattern="^[^'=()]{3,}$" placeholder="your passwd here" data-error="le mot de passe ne doit pas contenir les caractère ' , =ou ()" required class="form-control">
                <div class="help-block with-errors"></div>
              </div>
              <div class="form-group">
                <label for="Cpasswd">confirm Password:</label>
                <input type="password" name="Cpasswd" id="Cpasswd" data-match="#passwd" placeholder="confirmez" data-match-error="pas identique" required class="form-control">
                <div class="help-block with-errors"></div>
              </div>
              <div class="form-group">
                <label for="pwd" class="control-label">selectionnez les rôles:</label>
              </div>
              <select id="op" onchange="doThis()" name="mats" multiple class="form-control">
                <option value="prof">prof </option>
                <option value="cf">chef de filiere </option>
                <option value="cd">chef de departement</option>
                <option value="admin">Administrateur</option>
              </select>
              <div class="help-block with-errors"></div>
              <div class="form-group">
                <input id="hid" name="role" type="hidden" value="" class="form-control">
              </div>
              <button type="submit" value="Login" class="btn btn-default">Creer </button>
            </div>
          </form>
        </fieldset>
      </div>
    </div>
  </body>
</html>